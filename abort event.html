<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script>
        function timedGetText(url,timeout,callback){
            var request = new XMLHttpRequest();

            var timeout = false;
            var timer = setTimeout(function(){
                timeout = true;
                request.abort();
            },timeout);

            request.open('GET',url);
            request.onreadystatechange = function(){
                if(request.readyState !== 4) return;
                if(timeout) return;
                clearTimeout(timer);
                if(request.status ===200){
                    callback(request.responseText);
                }
            };
            request.send();
        }
    </script>
</head>
<body>

</body>
</html>